<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>操作日志</title>

    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/lib/css/main.css">
    <link rel="stylesheet" href="/lib/css/public.css">

    <script src="/lib/js/jquery-3.4.1.min.js"></script>
    <script src="/layui/layui.js"></script>



</head>

<style>
    body{
        background-image: url("/images/background/page_bg.JPG");
        background-size: 100%;

    }

</style>

<script>
    //注意：导航 依赖 element 模块，否则无法进行功能性操作
    layui.use('element', function(){
        var element = layui.element;

        //…
    });


</script>

<body>

<div class="table">
    <h2 class="tablename">操作日志</h2>
    <hr class="layui-bg-gray">
<table class="layui-hide" id="demo" lay-filter="test"></table>
</div>
<script type="text/html" id="barDemo">

    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>

<script>

    layui.use(['laydate', 'laypage', 'layer', 'table', 'carousel', 'upload', 'element', 'slider'], function(){
        var laydate = layui.laydate //日期
            ,laypage = layui.laypage //分页
            ,layer = layui.layer //弹层
            ,table = layui.table //表格
            ,carousel = layui.carousel //轮播
            ,upload = layui.upload //上传
            ,element = layui.element //元素操作
            ,slider = layui.slider //滑块


        //执行一个 table 实例
        table.render({
            elem: '#demo'
            ,height: 600
            ,url: 'operation_log' //数据接口
            ,title: '用户表'
            ,page: true //开启分页
            ,limits:[12,24,36]
            ,limit:12
            ,cols: [ [ //表头
                {type: 'checkbox', fixed: 'left'}
                ,{field: 'id', title: 'ID',  width: '8%',sort: true}
                ,{field: 'username', title: '用户名'}
                ,{field: 'ip', title: 'ip地址',  sort: true}
                ,{field: 'operation', title: '操作',  sort: true}
                ,{field: 'time', title: '操作时间',  sort: true}
                ,{field: 'result', title: '操作结果',templet:function (d) {
                    if(d.result == "操作成功"){
                        return '<span style="color: #20a162;">'+ d.result +'</span>'
                    }else
                    return '<span style="color: #c00;">'+ d.result +'</span>'
                }}
//                ,{fixed: 'right',title:'操作', width: '8%', align:'center', toolbar: '#barDemo'}


            ] ]
        });

    });
</script>
</body>

</html>